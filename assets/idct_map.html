
<!DOCTYPE html> 
<html> 
  <head> 
  <title>IDCT Map</title> 
  <link rel="stylesheet" href="jquery.mobile-1.0a1.min.css" />
  <script src="lib/jquery-1.4.3.min.js"></script>
  <script src="lib/jquery.mobile-1.0a1.min.js"></script>
  <link rel="stylesheet" type="text/css" href="jquery-ui.css">
  
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name='viewport' content='target-densitydpi=device-dpi' />
  
<link rel="stylesheet" href="style.mobile.css" type="text/css">
<link rel="stylesheet" href="style.css" type="text/css">
<link rel="stylesheet" href="jstyle.css" type="text/css">

<script src="lib/OpenLayers2-12/OpenLayers.js"></script>
<script src="http://maps.google.com/maps/api/js?v=3.6&amp;sensor=false"></script>

<script src="js/idct.js"></script>
<script src="js/java_interface.js"></script>
<script src="js/mapStyles.js"></script>

<script src="lib/LoadingPanel.js"></script>


</head> 


<body onload="init()"> 

<!--
<p><b id='debugText'></b> debug</p> 
-->



<!--
    <div>Cache status: <span id="status"></span></div>
    <div><button id="clear">Clear cache</button></div>
	-->
	
	
<div id="map" class="smallmap" style="width:100%; height:100%; z-index: 0" >

<!--
<a href="javascript:;" id="click">Click</a>
<a href="javascript:;" id="touchstart">touchstart</a>
<a href="javascript:;" id="touchstartcss">touchstart w/ css</a>
<a href="javascript:;" ontouchstart="reset()" id="reset">Reset</a>
-->
<div id="delay_report"></div>



<!--

    <a href="" id="zoomIn" ontouchstart="map.zoomIn()"></a>
    <a href="" id="zoomOut" ontouchstart="map.zoomOut()"></a>
	-->
	
	
<!--

	<div id="zoomInButton" onclick="map.zoomIn()" ></div>
	<div id="zoomOutButton" onclick="map.zoomOut()" ></div> 
	-->
	
	<div id="layerControls" >
	 
		<!-- Uncomment this for cycle layers buttons
		<div id="rightLayerButton" onclick="nextLayer(1)" ></div>
		<div id="leftLayerButton" onclick="nextLayer(-1)" ></div>
		-->
	</div>

</div>

<!--
<strong id="notouchstart">This device does not support touchstart.</strong>
-->


<script type="text/javascript">
/*
var a=document.getElementById('click');
var b=document.getElementById('touchstart');
var c=document.getElementById('touchstartcss');
var d=document.getElementById('delay_report');
*/
var btnZoomIn=document.getElementById('zoomIn');
var btnZoomOut=document.getElementById('zoomOut');
var start=0;

//Check for touchstart

/*
if('ontouchstart' in document.documentElement) {
  document.getElementById("notouchstart").style.display = "none";
}
*/


//Add a listener that fires at the beginning of each interaction
//[/*a,b,c,*/btnZoomIn,btnZoomOut].forEach(function(el){el.addEventListener('touchstart',interact);});

//Add the event handlers for each button
/*
a.addEventListener('click',highlight);
b.addEventListener('touchstart',highlight);
c.addEventListener('touchstart',highlight);
*/

/*
btnZoomIn.addEventListener('touchstart',highlight);
btnZoomOut.addEventListener('touchstart',highlight);

btnZoomIn.addEventListener("touchend", onTouchEnd);
btnZoomOut.addEventListener("touchend", onTouchEnd);
*/



//Functions
//Store the time when the user initiated an action
function interact(e) {
  start = new Date();
}
//Highlight what the user selected and calculate how long it took the action to occur
function highlight(e) {
  e.preventDefault();
  e.currentTarget.className="active";
  if(start) {d.innerHTML = "Delay: " + ((new Date()) - start) + "ms";}
  start = null;
}
//Reset the demo
function reset() {
  [/*a,b,c,*/btnZoomIn,btnZoomOut].forEach(function(el){el.className="";d.innerHTML=""});
}

/**
 * Fired when the touch has ended.
 * If e.currentTarget.moved is true, then the user moved his/her finger while
 * touching this item so we "cancel" the tap.
 */
function onTouchEnd(e) {
  var item = e.currentTarget;
  console.log("Stop: " + item.innerHTML);
  item.className = "";

}


</script>
		
</body>
</html>
